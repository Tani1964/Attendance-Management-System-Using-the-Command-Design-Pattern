<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <svg width="100%" height="100%" viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg" style="background: #f8f9fa;">
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">Command Pattern - Attendance Management System</text>
  
  <!-- Command Interface -->
  <g id="command-interface">
    <rect x="350" y="60" width="200" height="80" fill="#e8f4fd" stroke="#2196f3" stroke-width="2"/>
    <text x="450" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976d2">&lt;&lt;interface&gt;&gt;</text>
    <text x="450" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ICommand</text>
    <line x1="350" y1="105" x2="550" y2="105" stroke="#2196f3"/>
    <text x="360" y="120" font-family="Arial, sans-serif" font-size="11">+ Execute(): void</text>
    <text x="360" y="132" font-family="Arial, sans-serif" font-size="11">+ Undo(): void</text>
  </g>
  
  <!-- Base Command -->
  <g id="base-command">
    <rect x="350" y="180" width="200" height="100" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
    <text x="450" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold">BaseCommand</text>
    <line x1="350" y1="210" x2="550" y2="210" stroke="#ff9800"/>
    <text x="360" y="225" font-family="Arial, sans-serif" font-size="11"># receiver: AttendanceService</text>
    <text x="360" y="240" font-family="Arial, sans-serif" font-size="11"># timestamp: DateTime</text>
    <line x1="350" y1="250" x2="550" y2="250" stroke="#ff9800"/>
    <text x="360" y="265" font-family="Arial, sans-serif" font-size="11">+ Execute(): virtual void</text>
    <text x="360" y="277" font-family="Arial, sans-serif" font-size="11">+ Undo(): virtual void</text>
  </g>
  
  <!-- Concrete Commands -->
  <g id="concrete-commands">
    <!-- MarkPresentCommand -->
    <rect x="50" y="330" width="170" height="90" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
    <text x="135" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold">MarkPresentCommand</text>
    <line x1="50" y1="360" x2="220" y2="360" stroke="#4caf50"/>
    <text x="60" y="375" font-family="Arial, sans-serif" font-size="10">- studentId: string</text>
    <text x="60" y="387" font-family="Arial, sans-serif" font-size="10">- sessionId: string</text>
    <line x1="50" y1="395" x2="220" y2="395" stroke="#4caf50"/>
    <text x="60" y="410" font-family="Arial, sans-serif" font-size="10">+ Execute(): void</text>
    
    <!-- MarkAbsentCommand -->
    <rect x="250" y="330" width="170" height="90" fill="#ffebee" stroke="#f44336" stroke-width="2"/>
    <text x="335" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold">MarkAbsentCommand</text>
    <line x1="250" y1="360" x2="420" y2="360" stroke="#f44336"/>
    <text x="260" y="375" font-family="Arial, sans-serif" font-size="10">- studentId: string</text>
    <text x="260" y="387" font-family="Arial, sans-serif" font-size="10">- sessionId: string</text>
    <line x1="250" y1="395" x2="420" y2="395" stroke="#f44336"/>
    <text x="260" y="410" font-family="Arial, sans-serif" font-size="10">+ Execute(): void</text>
    
    <!-- UpdateAttendanceCommand -->
    <rect x="450" y="330" width="180" height="90" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2"/>
    <text x="540" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold">UpdateAttendanceCommand</text>
    <line x1="450" y1="360" x2="630" y2="360" stroke="#9c27b0"/>
    <text x="460" y="375" font-family="Arial, sans-serif" font-size="10">- studentId: string</text>
    <text x="460" y="387" font-family="Arial, sans-serif" font-size="10">- newStatus: AttendanceStatus</text>
    <line x1="450" y1="395" x2="630" y2="395" stroke="#9c27b0"/>
    <text x="460" y="410" font-family="Arial, sans-serif" font-size="10">+ Execute(): void</text>
    
    <!-- BulkAttendanceCommand -->
    <rect x="660" y="330" width="180" height="90" fill="#e1f5fe" stroke="#00bcd4" stroke-width="2"/>
    <text x="750" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold">BulkAttendanceCommand</text>
    <line x1="660" y1="360" x2="840" y2="360" stroke="#00bcd4"/>
    <text x="670" y="375" font-family="Arial, sans-serif" font-size="10">- attendanceList: List&lt;Attendance&gt;</text>
    <text x="670" y="387" font-family="Arial, sans-serif" font-size="10">- operation: BulkOperation</text>
    <line x1="660" y1="395" x2="840" y2="395" stroke="#00bcd4"/>
    <text x="670" y="410" font-family="Arial, sans-serif" font-size="10">+ Execute(): void</text>
  </g>
  
  <!-- Invoker -->
  <g id="invoker">
    <rect x="50" y="480" width="200" height="120" fill="#fff8e1" stroke="#ffc107" stroke-width="2"/>
    <text x="150" y="500" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold">CommandInvoker</text>
    <line x1="50" y1="510" x2="250" y2="510" stroke="#ffc107"/>
    <text x="60" y="525" font-family="Arial, sans-serif" font-size="11">- commandQueue: Queue&lt;ICommand&gt;</text>
    <text x="60" y="537" font-family="Arial, sans-serif" font-size="11">- commandHistory: Stack&lt;ICommand&gt;</text>
    <line x1="50" y1="545" x2="250" y2="545" stroke="#ffc107"/>
    <text x="60" y="560" font-family="Arial, sans-serif" font-size="11">+ ExecuteCommand(cmd: ICommand): void</text>
    <text x="60" y="572" font-family="Arial, sans-serif" font-size="11">+ UndoLastCommand(): void</text>
    <text x="60" y="584" font-family="Arial, sans-serif" font-size="11">+ QueueCommand(cmd: ICommand): void</text>
    <text x="60" y="596" font-family="Arial, sans-serif" font-size="11">+ ProcessQueue(): void</text>
  </g>
  
  <!-- Receiver -->
  <g id="receiver">
    <rect x="350" y="480" width="220" height="120" fill="#f1f8e9" stroke="#689f38" stroke-width="2"/>
    <text x="460" y="500" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold">AttendanceService</text>
    <line x1="350" y1="510" x2="570" y2="510" stroke="#689f38"/>
    <text x="360" y="525" font-family="Arial, sans-serif" font-size="11">- repository: IAttendanceRepository</text>
    <text x="360" y="537" font-family="Arial, sans-serif" font-size="11">- logger: ILogger</text>
    <line x1="350" y1="545" x2="570" y2="545" stroke="#689f38"/>
    <text x="360" y="560" font-family="Arial, sans-serif" font-size="11">+ MarkPresent(studentId, sessionId): void</text>
    <text x="360" y="572" font-family="Arial, sans-serif" font-size="11">+ MarkAbsent(studentId, sessionId): void</text>
    <text x="360" y="584" font-family="Arial, sans-serif" font-size="11">+ UpdateAttendance(studentId, status): void</text>
    <text x="360" y="596" font-family="Arial, sans-serif" font-size="11">+ BulkUpdate(attendanceList): void</text>
  </g>
  
  <!-- Client -->
  <g id="client">
    <rect x="650" y="480" width="200" height="120" fill="#fce4ec" stroke="#e91e63" stroke-width="2"/>
    <text x="750" y="500" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Client</text>
    <text x="750" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10">(Dashboard/Mobile App)</text>
    <line x1="650" y1="520" x2="850" y2="520" stroke="#e91e63"/>
    <text x="660" y="535" font-family="Arial, sans-serif" font-size="11">- invoker: CommandInvoker</text>
    <text x="660" y="547" font-family="Arial, sans-serif" font-size="11">- attendanceService: AttendanceService</text>
    <line x1="650" y1="555" x2="850" y2="555" stroke="#e91e63"/>
    <text x="660" y="570" font-family="Arial, sans-serif" font-size="11">+ CreateCommand(): ICommand</text>
    <text x="660" y="582" font-family="Arial, sans-serif" font-size="11">+ SubmitAttendance(): void</text>
    <text x="660" y="594" font-family="Arial, sans-serif" font-size="11">+ HandleUserInput(): void</text>
  </g>
  
  <!-- Relationships -->
  <!-- ICommand to BaseCommand (implements) -->
  <line x1="450" y1="140" x2="450" y2="180" stroke="#2196f3" stroke-width="2" fill="none" marker-end="url(#hollow-triangle)"/>
  
  <!-- BaseCommand to Concrete Commands (inheritance) -->
  <line x1="400" y1="280" x2="135" y2="330" stroke="#ff9800" stroke-width="2" fill="none" marker-end="url(#hollow-triangle)"/>
  <line x1="430" y1="280" x2="335" y2="330" stroke="#ff9800" stroke-width="2" fill="none" marker-end="url(#hollow-triangle)"/>
  <line x1="470" y1="280" x2="540" y2="330" stroke="#ff9800" stroke-width="2" fill="none" marker-end="url(#hollow-triangle)"/>
  <line x1="500" y1="280" x2="750" y2="330" stroke="#ff9800" stroke-width="2" fill="none" marker-end="url(#hollow-triangle)"/>
  
  <!-- Invoker to ICommand (uses) -->
  <line x1="250" y1="540" x2="350" y2="540" stroke="#666" stroke-width="1" stroke-dasharray="5,5" fill="none" marker-end="url(#arrow)"/>
  <text x="300" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">uses</text>
  
  <!-- BaseCommand to AttendanceService (has-a) -->
  <line x1="450" y1="280" x2="460" y2="480" stroke="#666" stroke-width="1" fill="none" marker-end="url(#diamond)"/>
  <text x="420" y="380" font-family="Arial, sans-serif" font-size="10" fill="#666">has</text>
  
  <!-- Client to CommandInvoker (uses) -->
  <line x1="650" y1="540" x2="250" y2="540" stroke="#666" stroke-width="1" stroke-dasharray="5,5" fill="none" marker-end="url(#arrow)"/>
  <text x="450" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">creates &amp; invokes</text>
  
  <!-- Client to AttendanceService (uses) -->
  <line x1="650" y1="560" x2="570" y2="560" stroke="#666" stroke-width="1" stroke-dasharray="5,5" fill="none" marker-end="url(#arrow)"/>
  <text x="610" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">injects</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666"/>
    </marker>
    <marker id="hollow-triangle" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="white" stroke="#666"/>
    </marker>
    <marker id="diamond" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,3 L3,0 L6,3 L3,6 z" fill="white" stroke="#666"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="630" width="800" height="60" fill="white" stroke="#ddd" stroke-width="1"/>
    <text x="60" y="645" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Legend:</text>
    
    <line x1="60" y1="655" x2="80" y2="655" stroke="#666" stroke-width="2" marker-end="url(#hollow-triangle)"/>
    <text x="85" y="659" font-family="Arial, sans-serif" font-size="10">Inheritance/Implementation</text>
    
    <line x1="220" y1="655" x2="240" y2="655" stroke="#666" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrow)"/>
    <text x="245" y="659" font-family="Arial, sans-serif" font-size="10">Dependency/Uses</text>
    
    <line x1="350" y1="655" x2="370" y2="655" stroke="#666" stroke-width="1" marker-end="url(#diamond)"/>
    <text x="375" y="659" font-family="Arial, sans-serif" font-size="10">Composition/Has-a</text>
    
    <text x="60" y="675" font-family="Arial, sans-serif" font-size="10">• Commands encapsulate attendance operations as objects</text>
    <text x="350" y="675" font-family="Arial, sans-serif" font-size="10">• Invoker manages command execution and undo operations</text>
    <text x="650" y="675" font-family="Arial, sans-serif" font-size="10">• Receiver performs the actual business logic</text>
  </g>
</svg>
        
        <script src="" async defer></script>
    </body>
</html>